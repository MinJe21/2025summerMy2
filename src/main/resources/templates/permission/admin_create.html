<!DOCTYPE html>
<html lang="en">

<th:block th:with="includeChartJs=false"></th:block>
<th:block th:replace="~{/includes/admin/head}" />

<body id="page-top">

<!-- Page Wrapper -->
<div id="wrapper">

    <th:block th:replace="~{/includes/admin/sidebar}" />
    <script>
        $(".nav_permission_a").removeClass("collapsed");
        $(".nav_permission_div").addClass("show");
    </script>

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

        <!-- Main Content -->
        <div id="content">

            <th:block th:replace="~{/includes/admin/topbar}" />

            <!-- Begin Page Content -->
            <div class="container-fluid">

                <!-- Page Heading -->
                <h1 class="h3 mb-2 text-gray-800">ê¶Œí•œ ìƒì„±</h1>
                <p class="mb-4">ì‹ ê·œ ìƒì„± ì…ë‹ˆë‹¤.</p>

                <div class="mb-4">
                    <div class="form-group row">

                        <label class="col-sm-2 col-form-label">*ì œëª©</label>
                        <div class="col-sm-4">
                            <input type="text" class="input_param input_required form-control mb-2" id="create_permission_title" name="title" placeholder="ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!" />
                        </div>
                        <label class="col-sm-6"></label>

                        <label class="col-sm-2 col-form-label">ë‚´ìš©</label>
                        <div class="col-sm-10">
                            <textarea class="input_param form-control mb-2" id="create_permission_content" name="content" placeholder="ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!" ></textarea>
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary" onclick="create_permission(); return false;">ìƒì„±í•˜ê¸°</button>
            </div>
            <!-- /.container-fluid -->

        </div>
        <!-- End of Main Content -->

        <th:block th:replace="~{/includes/admin/footer}" />

    </div>
    <!-- End of Content Wrapper -->

</div>
<!-- End of Page Wrapper -->

<th:block th:replace="~{/includes/admin/bottom}" />

<!-- âœ… JS ìŠ¤í¬ë¦½íŠ¸ ì •ì˜ -->
<script>
    $(document).ready(function () {
        console.log("ready!");
    });

    // âœ… ëˆ„ë½ë˜ì–´ ìˆë˜ í•¨ìˆ˜ ì •ì˜
    function listenerCreateParam() {
        return {
            title: $("#create_permission_title").val(),
            content: $("#create_permission_content").val()
        };
    }

    function create_permission() {
        let _param = listenerCreateParam();
        let _data = {
            url: "/api/permission",
            type: "POST",
            param: _param,
            success: function (obj_data, obj_status, obj_xhr) {
                alert("ë“±ë¡ ì„±ê³µ");
                location.reload();
            },
            error: function (obj_data, obj_status, obj_xhr) {
                alert("ì •ìƒì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
            }
        };
        func_ajax(_data); // ğŸ”¸ ì´ í•¨ìˆ˜ê°€ ì •ì˜ëœ ì™¸ë¶€ JSë„ í•„ìš”
    }
</script>

</body>
</html>
